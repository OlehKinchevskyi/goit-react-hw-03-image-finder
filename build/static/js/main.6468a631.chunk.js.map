{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","content","children","Component","Searchbar","state","searchQuery","handleSearchChange","setState","value","handleSubmit","preventDefault","onSubmit","toast","error","searchbar","searchForm","type","button","label","aria-label","name","autoComplete","autoFocus","onChange","input","placeholder","ImageGalleryItem","photo","item","image","src","webformatURL","data-source","largeImageURL","alt","tags","defaultProps","id","ImageGallery","photos","imageGallery","map","Button","allyProps","Load","loader","color","height","width","timeout","App","page","showModal","loading","key","url","status","toggleModal","largeImage","onButtonClick","handleSearchSubmit","normalizedSearchQuery","toLowerCase","trim","axios","get","then","response","data","hits","catch","finally","prevProps","prevState","nextSearch","prevSearch","nextPage","prevPage","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6468a631.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__6732U\",\"content\":\"Modal_content__1_WWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1V4ox\",\"image\":\"ImageGalleryItem_image__2aWEU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3YsRD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2XUMp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2k31l\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.content}>{this.props.children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchQuery: '',\r\n    };\r\n   \r\n    handleSearchChange = event => {\r\n        this.setState({ searchQuery: event.currentTarget.value});\r\n    };\r\n        \r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (this.state.searchQuery === '') {\r\n            toast.error('Empty request');\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.searchQuery);\r\n        this.setState({ searchQuery: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.searchbar}>\r\n                <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles.button}>\r\n                        <span className={styles.label} aria-label='Search'><ImSearch />\r\n                         </span>\r\n                    </button>\r\n\r\n                    <input\r\n                        type='text'\r\n                        name='searchbar'\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        onChange={this.handleSearchChange}\r\n                        value={this.state.searchQuery}\r\n                        className={styles.input}\r\n                        placeholder='Search images and photos'\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ photo, onClick }) {\r\n    return (\r\n    <>\r\n      <li className={styles.item}\r\n        onClick={onClick}>\r\n        <img className={styles.image}\r\n          src={photo.webformatURL}\r\n          data-source={photo.largeImageURL}\r\n          alt={photo.tags}/>\r\n        </li>\r\n        </>\r\n  )\r\n}\r\n\r\nImageGalleryItem.defaultProps = {\r\n  largeImageURL: '',\r\n  webformatURL: '',\r\n  tags: '',\r\n  id: ''\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  id: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ photos, onClick } ) {\r\n    return (\r\n      <ul className={styles.imageGallery}>\r\n        {photos.map(( photo ) => (<ImageGalleryItem key={photo.id} onClick={() => onClick(photo.largeImageURL)}\r\n          photo={photo}\r\n          ></ImageGalleryItem>))}\r\n      </ul> \r\n    )\r\n}\r\n        \r\nImageGallery.defaultProps = {\r\n  photos: [],\r\n  children: \"\",\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  photos: PropTypes.array,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={styles.button} onClick={onClick} {...allyProps}>\r\n    Load more{children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nfunction Load() {\r\n    return (\r\n        <Loader className={styles.loader}\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={45}\r\n            width={45}\r\n            timeout={6000}\r\n        />\r\n    )\r\n};\r\n\r\nexport default Load;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from './Modal/Modal'\r\nimport Searchbar from './Searchbar/Searchbar';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\nimport Button from './Button/Button';\r\nimport Load from './Loader/Loader';\r\nimport '../stylesheets/normalize.css';\r\nimport '../stylesheets/main.css';\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nclass App extends Component {\r\n    state = {\r\n        photos: [],\r\n        searchQuery: '',\r\n        page: 1,\r\n        showModal: false,\r\n        loading: false,\r\n        key: '19300951-2c2d75eff20259270e7e78a2b',\r\n        url: 'https://pixabay.com/api/',\r\n        error: null,\r\n        status: \"idle\",\r\n    };\r\n\r\ncomponentDidMount() {\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(`${this.state.url}?page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(response => this.setState({ photos: response.data.hits }))\r\n      .catch(error=> this.setState({error}))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const nextSearch = this.state.searchQuery;\r\n    const prevSearch = prevState.searchQuery;\r\n    const nextPage = this.state.page;\r\n    const prevPage = prevState.page;\r\n\r\n    if (nextSearch !== prevSearch) {\r\n      this.setState({ loading: true, photos: []});\r\n      \r\n      axios\r\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n          .then(response => this.setState({ photos: response.data.hits }\r\n          ))\r\n          .catch(error=> this.setState({error}))\r\n          .finally(() => this.setState({ loading: false }));\r\n      \r\n    }\r\n    if (nextPage !== prevPage) {\r\n      this.setState({ loading: true });\r\n\r\n        axios\r\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n          .then(response => this.setState({ photos: [...prevState.photos, ...response.data.hits] }))\r\n          .catch(error=> this.setState({error}))\r\n          .finally(() => { this.setState({ loading: false }); window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth', }) });\r\n    }\r\n  };\r\n\r\n  toggleModal = (largeImageURL) => {\r\n    this.setState(({ showModal }) => ({showModal: !showModal}));\r\n    this.setState({ largeImage: largeImageURL });\r\n  };\r\n\r\n  onButtonClick = e => {\r\n    e.preventDefault();\r\n    this.setState(\r\n      { page: this.state.page + 1 }\r\n    );\r\n  };\r\n\r\n  handleSearchSubmit = searchQuery => {\r\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\r\n    this.setState({ searchQuery: normalizedSearchQuery });\r\n   };\r\n \r\n  render() {\r\n    const { photos, showModal, largeImage, tags, error } = this.state;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleSearchSubmit}/> \r\n        {error && <h1>Error, try again later</h1>}\r\n       \r\n        {photos.length > 0 ?\r\n          <ImageGallery\r\n              photos={photos}\r\n              onClick={this.toggleModal}>\r\n          </ImageGallery> : null}\r\n        \r\n        {showModal &&\r\n          <Modal onClose={this.toggleModal}>\r\n          <img src={largeImage} alt={tags}/>\r\n          </Modal>}\r\n\r\n        {this.state.loading &&\r\n          <Load \r\n          type=\"ThreeDots\"\r\n          color=\"#3f51b5\"\r\n          height={45}\r\n          width={45}\r\n          timeout={6000}\r\n          />}\r\n      \r\n        {photos.length >= 11 ?\r\n          <Button\r\n            aria-label='Load more'\r\n            onClick={this.onButtonClick}>\r\n          </Button> : null}\r\n\r\n        <ToastContainer autoClose={2000}/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3CVSD\",\"searchForm\":\"Searchbar_searchForm__1OTwz\",\"button\":\"Searchbar_button__PgQUe\",\"buttonLabel\":\"Searchbar_buttonLabel__11LEg\",\"input\":\"Searchbar_input__aSb_m\"};"],"sourceRoot":""}